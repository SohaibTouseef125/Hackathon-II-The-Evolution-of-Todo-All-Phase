@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Color Palette */
  --primary-50: 240 249 255;
  --primary-100: 224 242 254;
  --primary-200: 186 230 253;
  --primary-300: 125 211 252;
  --primary-400: 56 189 248;
  --primary-500: 14 165 233;
  --primary-600: 2 132 199;
  --primary-700: 3 105 161;
  --primary-800: 7 89 133;
  --primary-900: 12 74 110;

  --secondary-50: 253 244 255;
  --secondary-100: 250 232 255;
  --secondary-200: 245 208 254;
  --secondary-300: 240 171 252;
  --secondary-400: 232 121 249;
  --secondary-500: 217 70 239;
  --secondary-600: 192 38 211;
  --secondary-700: 162 28 175;
  --secondary-800: 134 25 143;
  --secondary-900: 112 26 117;

  --accent-50: 240 253 250;
  --accent-100: 204 251 241;
  --accent-200: 153 246 228;
  --accent-300: 94 234 212;
  --accent-400: 45 212 191;
  --accent-500: 20 184 166;
  --accent-600: 13 148 136;
  --accent-700: 15 118 110;
  --accent-800: 17 94 89;
  --accent-900: 19 78 74;

  --neutral-50: 250 250 249;
  --neutral-100: 245 245 244;
  --neutral-200: 228 228 226;
  --neutral-300: 212 212 208;
  --neutral-400: 161 161 158;
  --neutral-500: 113 113 108;
  --neutral-600: 82 82 77;
  --neutral-700: 63 63 58;
  --neutral-800: 39 39 36;
  --neutral-900: 24 24 22;

  --success-50: 240 253 244;
  --success-100: 220 252 231;
  --success-200: 187 247 208;
  --success-300: 134 239 172;
  --success-400: 74 222 128;
  --success-500: 34 197 94;
  --success-600: 22 163 74;
  --success-700: 21 128 61;
  --success-800: 22 101 52;
  --success-900: 20 83 45;

  --warning-50: 255 251 235;
  --warning-100: 254 243 199;
  --warning-200: 253 230 138;
  --warning-300: 252 211 77;
  --warning-400: 251 191 36;
  --warning-500: 245 158 11;
  --warning-600: 217 119 6;
  --warning-700: 180 83 9;
  --warning-800: 146 64 14;
  --warning-900: 120 53 15;

  --error-50: 255 241 242;
  --error-100: 255 228 230;
  --error-200: 254 205 211;
  --error-300: 253 164 175;
  --error-400: 251 113 133;
  --error-500: 244 63 94;
  --error-600: 225 29 72;
  --error-700: 190 18 60;
  --error-800: 159 18 57;
  --error-900: 136 19 55;

  /* Typography Scale */
  --font-size-xs: 0.75rem;      /* 12px */
  --font-size-sm: 0.875rem;     /* 14px */
  --font-size-base: 1rem;       /* 16px */
  --font-size-lg: 1.125rem;     /* 18px */
  --font-size-xl: 1.25rem;      /* 20px */
  --font-size-2xl: 1.5rem;      /* 24px */
  --font-size-3xl: 1.875rem;    /* 30px */
  --font-size-4xl: 2.25rem;     /* 36px */
  --font-size-5xl: 3rem;        /* 48px */
  --font-size-6xl: 3.75rem;     /* 60px */

  /* Line Heights */
  --line-height-tight: 1.25;
  --line-height-snug: 1.375;
  --line-height-normal: 1.5;
  --line-height-relaxed: 1.625;

  /* Spacing System (8px Grid) */
  --spacing-1: 0.25rem;         /* 4px */
  --spacing-2: 0.5rem;          /* 8px */
  --spacing-3: 0.75rem;         /* 12px */
  --spacing-4: 1rem;            /* 16px */
  --spacing-5: 1.25rem;         /* 20px */
  --spacing-6: 1.5rem;          /* 24px */
  --spacing-8: 2rem;            /* 32px */
  --spacing-10: 2.5rem;         /* 40px */
  --spacing-12: 3rem;           /* 48px */
  --spacing-16: 4rem;           /* 64px */
  --spacing-20: 5rem;           /* 80px */
  --spacing-24: 6rem;           /* 96px */

  /* Border Radius */
  --radius-sm: 0.125rem;        /* 2px */
  --radius-md: 0.25rem;         /* 4px */
  --radius-lg: 0.5rem;          /* 8px */
  --radius-xl: 0.75rem;         /* 12px */
  --radius-2xl: 1rem;           /* 16px */
  --radius-3xl: 1.5rem;         /* 24px */
  --radius-full: 9999px;

  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);

  /* Transitions */
  --transition-fast: 150ms ease-out;
  --transition-normal: 250ms ease-out;
  --transition-slow: 350ms ease-out;
  --transition-bounce: 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);

  /* Z-index */
  --z-dropdown: 1000;
  --z-sticky: 1020;
  --z-fixed: 1030;
  --z-modal-backdrop: 1040;
  --z-modal: 1050;
  --z-popover: 1060;
  --z-tooltip: 1070;

  /* Animation Durations */
  --duration-fast: 0.2s;
  --duration-normal: 0.3s;
  --duration-slow: 0.5s;

  /* Base Colors */
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 249, 250, 251;
  --background-end-rgb: 255, 255, 255;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Dark Mode Color Palette */
    --primary-50: 15 23 42;
    --primary-100: 30 41 59;
    --primary-200: 56 78 108;
    --primary-300: 96 125 156;
    --primary-400: 121 147 172;
    --primary-500: 140 158 180;
    --primary-600: 165 177 194;
    --primary-700: 192 201 212;
    --primary-800: 218 223 229;
    --primary-900: 241 243 246;

    --secondary-50: 24 21 30;
    --secondary-100: 46 33 52;
    --secondary-200: 81 52 93;
    --secondary-300: 134 78 156;
    --secondary-400: 170 107 184;
    --secondary-500: 192 133 207;
    --secondary-600: 214 164 226;
    --secondary-700: 229 200 237;
    --secondary-800: 242 228 242;
    --secondary-900: 249 242 249;

    --accent-50: 18 28 21;
    --accent-100: 26 46 33;
    --accent-200: 41 76 55;
    --accent-300: 57 117 78;
    --accent-400: 84 174 111;
    --accent-500: 101 194 129;
    --accent-600: 118 211 146;
    --accent-700: 142 225 168;
    --accent-800: 173 238 196;
    --accent-900: 208 247 226;

    --neutral-50: 26 26 25;
    --neutral-100: 41 41 39;
    --neutral-200: 60 60 56;
    --neutral-300: 82 82 77;
    --neutral-400: 113 113 108;
    --neutral-500: 142 142 137;
    --neutral-600: 170 170 163;
    --neutral-700: 198 198 193;
    --neutral-800: 223 223 220;
    --neutral-900: 245 245 244;

    --success-50: 15 28 19;
    --success-100: 22 44 30;
    --success-200: 34 71 47;
    --success-300: 49 106 68;
    --success-400: 72 163 105;
    --success-500: 86 194 125;
    --success-600: 104 222 147;
    --success-700: 129 233 170;
    --success-800: 161 242 196;
    --success-900: 201 248 226;

    --warning-50: 31 24 17;
    --warning-100: 51 35 22;
    --warning-200: 83 57 32;
    --warning-300: 128 85 45;
    --warning-400: 180 123 57;
    --warning-500: 217 146 59;
    --warning-600: 234 172 73;
    --warning-700: 243 199 105;
    --warning-800: 248 219 148;
    --warning-900: 252 239 194;

    --error-50: 30 18 20;
    --error-100: 47 27 32;
    --error-200: 76 42 54;
    --error-300: 124 62 78;
    --error-400: 183 85 114;
    --error-500: 220 78 93;
    --error-600: 235 104 125;
    --error-700: 243 131 153;
    --error-800: 248 163 183;
    --error-900: 252 200 214;

    /* Base Dark Mode Colors */
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 15, 23, 42;
    --background-end-rgb: 24, 24, 27;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      rgb(var(--background-start-rgb)),
      rgb(var(--background-end-rgb))
    );
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
  line-height: var(--line-height-normal);
  font-size: var(--font-size-base);
}

/* Modern Design System Utilities */
.text-xs { font-size: var(--font-size-xs); }
.text-sm { font-size: var(--font-size-sm); }
.text-base { font-size: var(--font-size-base); }
.text-lg { font-size: var(--font-size-lg); }
.text-xl { font-size: var(--font-size-xl); }
.text-2xl { font-size: var(--font-size-2xl); }
.text-3xl { font-size: var(--font-size-3xl); }
.text-4xl { font-size: var(--font-size-4xl); }
.text-5xl { font-size: var(--font-size-5xl); }
.text-6xl { font-size: var(--font-size-6xl); }

.leading-tight { line-height: var(--line-height-tight); }
.leading-snug { line-height: var(--line-height-snug); }
.leading-normal { line-height: var(--line-height-normal); }
.leading-relaxed { line-height: var(--line-height-relaxed); }

.p-1 { padding: var(--spacing-1); }
.p-2 { padding: var(--spacing-2); }
.p-3 { padding: var(--spacing-3); }
.p-4 { padding: var(--spacing-4); }
.p-5 { padding: var(--spacing-5); }
.p-6 { padding: var(--spacing-6); }
.p-8 { padding: var(--spacing-8); }
.p-10 { padding: var(--spacing-10); }
.p-12 { padding: var(--spacing-12); }
.p-16 { padding: var(--spacing-16); }
.p-20 { padding: var(--spacing-20); }
.p-24 { padding: var(--spacing-24); }

.m-1 { margin: var(--spacing-1); }
.m-2 { margin: var(--spacing-2); }
.m-3 { margin: var(--spacing-3); }
.m-4 { margin: var(--spacing-4); }
.m-5 { margin: var(--spacing-5); }
.m-6 { margin: var(--spacing-6); }
.m-8 { margin: var(--spacing-8); }
.m-10 { margin: var(--spacing-10); }
.m-12 { margin: var(--spacing-12); }
.m-16 { margin: var(--spacing-16); }
.m-20 { margin: var(--spacing-20); }
.m-24 { margin: var(--spacing-24); }

.rounded-sm { border-radius: var(--radius-sm); }
.rounded-md { border-radius: var(--radius-md); }
.rounded-lg { border-radius: var(--radius-lg); }
.rounded-xl { border-radius: var(--radius-xl); }
.rounded-2xl { border-radius: var(--radius-2xl); }
.rounded-3xl { border-radius: var(--radius-3xl); }
.rounded-full { border-radius: var(--radius-full); }

.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow { box-shadow: var(--shadow); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }
.shadow-2xl { box-shadow: var(--shadow-2xl); }

.transition-fast { transition: all var(--transition-fast); }
.transition-normal { transition: all var(--transition-normal); }
.transition-slow { transition: all var(--transition-slow); }
.transition-bounce { transition: all var(--transition-bounce); }

.duration-fast { transition-duration: var(--duration-fast); }
.duration-normal { transition-duration: var(--duration-normal); }
.duration-slow { transition-duration: var(--duration-slow); }

/* Glassmorphism effect */
.glass {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

.glass-dark {
  background: rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid rgba(255, 255, 255, 0.18);
}

/* Gradient utilities */
.bg-gradient-primary {
  background: linear-gradient(135deg, rgb(var(--primary-500)) 0%, rgb(var(--primary-600)) 100%);
}

.bg-gradient-secondary {
  background: linear-gradient(135deg, rgb(var(--secondary-500)) 0%, rgb(var(--secondary-600)) 100%);
}

.bg-gradient-accent {
  background: linear-gradient(135deg, rgb(var(--accent-500)) 0%, rgb(var(--accent-600)) 100%);
}

.bg-gradient-tertiary {
  background: linear-gradient(to right, rgb(var(--primary-500)), rgb(var(--secondary-500)));
}

/* Focus styles for accessibility */
.focus-visible {
  outline: 2px solid rgb(var(--primary-500));
  outline-offset: 2px;
}

.focus-within\:outline:focus-within {
  outline: 2px solid rgb(var(--primary-500));
  outline-offset: 2px;
}

/* Skip link for screen readers */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: rgb(var(--primary-500));
  color: white;
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 10000;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 6px;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Not screen reader only */
.not-sr-only {
  position: static;
  width: auto;
  height: auto;
  padding: 0;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  /* Disable animations on interactive elements */
  button,
  input,
  textarea,
  select,
  a {
    animation: none !important;
    transition: none !important;
  }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  * {
    border-color: CanvasText !important;
    background-color: Canvas !important;
    color: CanvasText !important;
  }

  .bg-white, .bg-\[color\:white\], .bg-\[\#ffffff\] {
    background-color: Canvas !important;
  }

  /* Replace wildcard selectors with specific classes */
  .text-gray-50, .text-gray-100, .text-gray-200, .text-gray-300, .text-gray-400, .text-gray-500, .text-gray-600, .text-gray-700, .text-gray-800, .text-gray-900,
  .text-neutral-50, .text-neutral-100, .text-neutral-200, .text-neutral-300, .text-neutral-400, .text-neutral-500, .text-neutral-600, .text-neutral-700, .text-neutral-800, .text-neutral-900 {
    color: CanvasText !important;
  }

  /* Replace wildcard selectors with specific classes */
  .border-gray-50, .border-gray-100, .border-gray-200, .border-gray-300, .border-gray-400, .border-gray-500, .border-gray-600, .border-gray-700, .border-gray-800, .border-gray-900,
  .border-neutral-50, .border-neutral-100, .border-neutral-200, .border-neutral-300, .border-neutral-400, .border-neutral-500, .border-neutral-600, .border-neutral-700, .border-neutral-800, .border-neutral-900 {
    border-color: CanvasText !important;
  }
}

/* Forced colors mode support */
@media (forced-colors: active) {
  .btn-primary {
    forced-color-adjust: none;
    background-color: ButtonFace;
    color: ButtonText;
    border: 1px solid ButtonBorder;
  }
}

/* ARIA attributes */
[aria-disabled='true'] {
  opacity: 0.5;
  pointer-events: none;
  cursor: not-allowed;
}

[aria-busy='true'] {
  cursor: wait;
}

[aria-expanded='true'] {
  transform: rotate(180deg);
}

/* Focus styles for different components */
.btn:focus-visible,
.button:focus-visible,
input[type='submit']:focus-visible,
input[type='button']:focus-visible,
input[type='reset']:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible {
  outline: 2px solid rgb(var(--primary-500));
  outline-offset: 2px;
  border-radius: calc(var(--radius-md) - 2px);
}

/* Accessible hover and focus states */
.hover\:focus-within\:bg-opacity-10:focus-within {
  background-opacity: 0.1;
}

/* Better contrast for links */
a:not(.btn):not(.button) {
  text-decoration-thickness: 2px;
  text-underline-offset: 2px;
}

/* Accessible form elements */
input,
textarea,
select {
  padding: var(--spacing-3);
  border: 2px solid rgb(var(--neutral-300));
  border-radius: var(--radius-md);
  font-size: var(--font-size-base);
  line-height: var(--line-height-normal);
}

input:focus,
textarea:focus,
select:focus {
  outline: none;
  border-color: rgb(var(--primary-500));
  box-shadow: 0 0 0 3px rgba(var(--primary-500), 0.2);
}

/* Accessible modal backdrop */
.modal-backdrop {
  background-color: rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(4px);
}

/* Accessible tooltip */
.tooltip {
  position: absolute;
  background: rgb(var(--neutral-900));
  color: white;
  padding: var(--spacing-2) var(--spacing-3);
  border-radius: var(--radius-sm);
  font-size: var(--font-size-sm);
  z-index: var(--z-tooltip);
  max-width: 200px;
  word-wrap: break-word;
}

.tooltip::before {
  content: '';
  position: absolute;
  top: -5px;
  left: 50%;
  transform: translateX(-50%);
  border-width: 0 5px 5px 5px;
  border-style: solid;
  border-color: transparent transparent rgb(var(--neutral-900)) transparent;
}

/* Custom animations and transitions */
.hover-lift {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: #f1f1f1;
}

::-webkit-scrollbar-thumb {
  background: #c5c5c5;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a8a8a8;
}

/* Accessibility improvements */
@media (prefers-reduced-motion: reduce) {
  .motion-safe\:animate-spin {
    animation: none;
  }

  .motion-safe\:transition-all {
    transition: none;
  }

  .motion-safe\:transform {
    transform: none;
  }
}

/* Focus visible for keyboard navigation */
*:focus-visible {
  outline: 2px solid rgb(var(--primary-500));
  outline-offset: 2px;
  border-radius: 2px;
}

/* Ensure sufficient contrast for text */
.text-sm,
.text-xs {
  font-weight: 500;
}

/* Accessible focus styles for interactive elements */
button:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
a:focus-visible,
[role="button"]:focus-visible {
  outline: 2px solid rgb(var(--primary-500));
  outline-offset: 2px;
  border-radius: 2px;
}

/* Better focus styles for 3D card hover effects */
.hover-lift:focus-visible {
  transform: translateY(-4px) !important;
  box-shadow: 0 0 0 3px rgba(var(--primary-500), 0.5) !important;
}

/* Ensure all interactive elements have proper cursor */
button,
[role="button"],
input[type="button"],
input[type="submit"],
input[type="reset"],
input[type="radio"],
input[type="checkbox"],
label,
select {
  cursor: pointer;
}

/* Improved focus management for modals */
.modal-open {
  overflow: hidden;
}

/* High contrast mode improvements */
@media (prefers-contrast: high) {
  * {
    border-width: 2px !important;
  }

  .border,
  .border-\* {
    border-width: 2px !important;
  }

  .focus\:border-\* {
    border-width: 2px !important;
  }
}

/* Reduced transparency for better readability */
.bg-opacity-10,
.bg-opacity-20,
.bg-opacity-30,
.bg-opacity-40,
.bg-opacity-50 {
  background-color: rgba(0, 0, 0, 0.1) !important;
}

/* Better contrast for disabled elements */
[disabled] {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Accessible loading indicators */
.loading::after {
  content: "";
  position: absolute;
  width: 16px;
  height: 16px;
  top: 50%;
  left: 50%;
  margin-top: -8px;
  margin-left: -8px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Ensure proper heading hierarchy */
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: var(--line-height-tight);
  margin-bottom: 0.5em;
}

/* Accessible form labels */
label {
  display: inline-block;
  margin-bottom: 0.25rem;
  font-weight: 500;
}

/* Better focus for form elements */
input:not([type="submit"]):not([type="button"]):not([type="reset"]):focus,
textarea:focus,
select:focus {
  box-shadow: 0 0 0 3px rgba(var(--primary-500), 0.2);
}

/* Accessible table styles */
table {
  border-collapse: collapse;
  width: 100%;
}

th,
td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid currentColor;
}

th {
  font-weight: 600;
}

/* Better contrast for icons */
svg {
  focusable: false;
  aria-hidden: true;
}

/* Background patterns for homepage */
.bg-pattern-light {
  background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
}

.dark .bg-pattern-dark {
  background-image: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23e5e7eb" fill-opacity="0.05"%3E%3Ccircle cx="30" cy="30" r="2"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
}